<div class="memberIntro">
  <div style="display: inline-block">
    <audio id="jumpSound" src="sounds/jump.mp3"></audio>
    <img
      id="jumpingImage"
      src="https://i.ibb.co/SQXmNzK/203eeb40d872f0e0de3d579268f71fd9.jpg"
      width="500px"
      height="400px"
      margin-top="200px"
      onclick="toggleJumpImage()"
    />
  </div>

  <div style="display: inline-block">
    <p class="mytitle">No.005 &nbsp;&nbsp;&nbsp; 박재상</p>
    <p class="txt1"><strong>디렉팅포켓몬</strong></p>

    <table>
      <colgroup>
        <col style="background-color: gainsboro" width="200px" height="100px" />
        <col style="background-color: #fafafa" width="300px" height="100px" />
      </colgroup>
      <tbody>
        <tr>
          <td><strong>타입</strong></td>
          <td><strong>방송, 기획, 아트</strong></td>
        </tr>
        <tr>
          <td><strong>취미</strong></td>
          <td><strong>개인방송</strong></td>
        </tr>
        <tr>
          <td><strong>게임</strong></td>
          <td><strong>다잉라이트, 엘더스크롤, 던전앤파이터</strong></td>
        </tr>
      </tbody>
    </table>

    <p class="txt4">
      <strong
        >&nbsp;개인방송국에서 주로 출현한다.<br />&nbsp;종종 그림을 그리고 있는
        모습도 목격된다.<br />&nbsp;대체로 느긋한 편이지만 알게 모르게 자기
        주장이 강한편이다.</strong
      >
    </p>

    <div class="button"><b>간식 주기</b></div>
    <div class="button"><b>쓰다듬기</b></div>
  </div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
  $(document).ready(function () {
    let isJumping = false;
    let jumpCount = 0;
    const maxJumpCount = 3;

    function toggleJumpImage() {
      const $image = $('#jumpingImage');
      const jumpSound = $('#jumpSound')[0];

      if (isJumping) {
        $image.css('animation-play-state', 'paused');
        jumpCount = 0;
      } else {
        $image.css('animation-play-state', 'running');
        jumpCount = 0;
        startJumping($image);
      }
      jumpSound.currentTime = 0;
      jumpSound.play();

      isJumping = !isJumping;
    }

    function startJumping($image) {
      const jumpInterval = setInterval(() => {
        jumpCount++;

        if (jumpCount >= maxJumpCount) {
          clearInterval(jumpInterval);
          $image.css('animation-play-state', 'paused');
          isJumping = false;
        }
      }, 600);
    }

    function shakeImage() {
      const $image = $('#jumpingImage');
      $image.css('animation', 'shake 0.5s ease');

      $image.on('animationend', function () {
        $image.css('animation', '');
      });
    }

    // 버튼 클릭 이벤트 연결
    $('.button').eq(0).on('click', toggleJumpImage); 
    $('.button').eq(1).on('click', shakeImage); 
  });
</script>
